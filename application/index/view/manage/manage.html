{include  file="./public/common/top.html"/}
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link href="__ROOT__/public/static/css/prodList.css" rel="stylesheet" type="text/css">
<script type="text/javascript"
	src="__ROOT__/public/static/js/jquery-1.8.3.min.js"></script>
<title>欢迎进入管理员页面</title>
<script>
function deleteData(id) {
    if (confirm('确认删除该数据吗？')) {
       	$.ajax({
   		  url: 'deleteMedicine',
  		  method: 'POST', // 根据需要选择请求方法，如 POST 或 GET
  		  //dataType:'json',
  		  data: { 
  			  id: id, 

  		  }, 
  		  success: function(response) {
  		    // 处理成功响应
  		    console.log('响应数据:', response);
  		    alert("已删除")
  		  location.reload();
  		    
  		  },
  		  error: function(xhr, status, error) {
  		    // 处理错误响应
  		    console.error('发生错误:', error);
  		  }
  		}); 
    }
}

</script>
</head>

<body>
<center>

<div class="top-navigation">
    <button onclick="showHospitalInfo()">医院信息</button>
    <button onclick="showDoctorInfo()">医生信息</button>
    <button onclick="showDepartmentInfo()">科室信息</button>
    <button onclick="showMedicineInfo()">药品信息</button>
</div>

<div id="hospital-info-page" style="display: none;">
    <h2>医院信息</h2>
    <form action="update_hospital_info.php" method="post" enctype="multipart/form-data">
        <div>
            <label for="logo">医院Logo：</label>
            <input type="file" name="logo" id="logo">
        </div>
        <div>
            <label for="hospital-name">医院名称：</label>
            <input type="text" name="hospital-name" id="hospital-name">
        </div>
        <div>
            <label for="hospital-website">医院网址：</label>
            <input type="text" name="hospital-website" id="hospital-website">
        </div>
        <div>
            <input type="submit" value="保存">
        </div>
    </form>
</div>


<div id="doctor-info-page" style="display: none;">
    <h2>医生信息</h2>
    <form action="update_doctor_info.php" method="post">
        <div>
            <label for="doctor-id">医生工号：</label>
            <input type="text" name="doctor-id" id="doctor-id">
        </div>
        <div>
            <label for="doctor-password">密码：</label>
            <input type="password" name="doctor-password" id="doctor-password">
        </div>
        <div>
            <label for="doctor-name">医生姓名：</label>
            <input type="text" name="doctor-name" id="doctor-name">
        </div>
        <div>
            <label for="doctor-gender">性别：</label>
            <select name="doctor-gender" id="doctor-gender">
                <option value="male">男</option>
                <option value="female">女</option>
            </select>
        </div>
        <div>
            <label for="doctor-title">职称：</label>
            <input type="text" name="doctor-title" id="doctor-title">
        </div>
        <div>
            <label for="doctor-phone">电话号码：</label>
            <input type="text" name="doctor-phone" id="doctor-phone">
        </div>
        <div>
            <label for="department-id">所属科室号：</label>
            <input type="text" name="department-id" id="department-id">
        </div>
        <div>
            <input type="submit" value="保存">
        </div>
    </form>
</div>


<div id="office-info-page" style="display: none;">
    <h2>科室信息</h2>
    <form action="update_department_info.php" method="post">
        <div>
            <label for="department-name">科室名称：</label>
            <input type="text" name="department-name" id="department-name">
        </div>
        <div>
            <label for="department-doctor">负责医师：</label>
            <input type="text" name="department-doctor" id="department-doctor">
        </div>
        <div>
            <label for="department-location">科室位置：</label>
            <input type="text" name="department-location" id="department-location">
        </div>
        <div>
            <input type="submit" value="保存">
        </div>
    </form>
</div>


<div id="medicine-info-page" style="display: none;">
    <h2>药品信息</h2>  
    <a href='{:url('manage/newmedicine')}'>添加药品</a>
<!--     <table>
        <tr>
            <th>药品编号</th>
            <th>药品名称</th>
            <th>库存数量</th>
            <th>用法</th>
        </tr>
        <tr>
            <td>YP202301</td>
            <td>阿司匹林</td>
            <td>200</td>
            <td>口服，每次1片，每天3次</td>
        </tr>
        
    </table> -->
    
    <div id="prod_content">
		{foreach $medicInfo as $medic}
		<div class="prod_div">
			<a href="{:url('recipet/detail')}?medicineNo={$medic.medicineNo}">
			<img src="__ROOT__/public/static/picture/{$medic.medPic}" border="0"/>
			</a>
			<div id="prod_name_div">{$medic.medName}  还剩{$medic.medLeft}件</div>
			<div id="prod_price_div">￥{$medic.price}元</div>
			<div>
				<div id="gotocart_div">
				<a href='{:url('recipet/detail')}?medicineNo={$medic.medicineNo}'>查看</a>
				<a onclick="deleteData('{$medic.medicineNo}')">删除</a>
				</div>					
								
				</div>
		</div>
		{/foreach}
	</div>
</div>






</center>

</body>
<script type="text/javascript">
function hide(){
	document.getElementById("hospital-info-page").style.display = "none";
    document.getElementById("doctor-info-page").style.display = "none";
    document.getElementById("office-info-page").style.display = "none";
    document.getElementById("medicine-info-page").style.display = "block";
}
function showHospitalInfo() {
	hide();
    // 隐藏其他页面，显示医院信息页面
    document.getElementById("hospital-info-page").style.display = "block";

}

function showDoctorInfo() {
	hide();
    // 隐藏其他页面，显示医生信息页面
    document.getElementById("doctor-info-page").style.display = "block";
}

function showDepartmentInfo(){
	hide();
	// 隐藏其他页面，显示医生信息页面
    document.getElementById("office-info-page").style.display = "block";
}

function showMedicineInfo(){
	hide();
	// 隐藏其他页面，显示医生信息页面
    document.getElementById("medicine-info-page").style.display = "block";
}

</script>
</html>